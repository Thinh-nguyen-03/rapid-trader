# RapidTrader Environment Configuration
# Copy this file to .env and fill in your actual credentials

# ============================================================================
# DATABASE
# ============================================================================
RT_DB_URL=postgresql+psycopg://postgres:postgres@localhost:5432/rapidtrader

# ============================================================================
# ALPACA TRADING & DATA API (REQUIRED - FREE with paper account)
# ============================================================================
# Get your credentials at: https://alpaca.markets/
# 1. Sign up for free paper trading account
# 2. Go to "Your API Keys" in the dashboard
# 3. Generate new keys and paste them here

RT_ALPACA_API_KEY=YOUR_ALPACA_API_KEY_HERE
RT_ALPACA_SECRET_KEY=YOUR_ALPACA_SECRET_KEY_HERE
RT_ALPACA_PAPER=True
RT_ALPACA_ENDPOINT=https://paper-api.alpaca.markets

# ============================================================================
# FINANCIAL MODELING PREP (OPTIONAL - For sector data)
# ============================================================================
# Get free API key at: https://financialmodelingprep.com/developer/docs/
# Free tier: 250 requests/day
# Leave blank if you don't want to use it

RT_FMP_API_KEY=

# ============================================================================
# TRADING PARAMETERS
# ============================================================================

# Market Filter (SPY 200-SMA gate)
RT_MARKET_FILTER_ENABLE=1
RT_MARKET_FILTER_SMA=200
RT_MARKET_FILTER_SYMBOL=SPY
RT_ALLOW_EXITS_IN_BEAR=1
RT_SELLS_HELD_POSITIONS_ONLY=0

# Signal Confirmation (2-of-3 accumulator)
RT_ENABLE_SIGNAL_CONFIRM=1
RT_CONFIRM_WINDOW=3
RT_CONFIRM_MIN_COUNT=2

# ATR Stops
RT_ENABLE_ATR_STOP=1
RT_ATR_LOOKBACK=14
RT_ATR_STOP_K=3.0
RT_COOLDOWN_DAYS_ON_STOP=1

# Position Sizing
RT_START_CAPITAL=100000.0
RT_PCT_PER_TRADE=0.05
RT_DAILY_RISK_CAP=0.005
RT_MAX_EXPOSURE_PER_SECTOR=0.30

# Kill Switch
RT_DRAWDOWN_THRESHOLD=-0.12

# Portfolio Heat Limit
RT_MAX_PORTFOLIO_HEAT=0.06
RT_PORTFOLIO_HEAT_ENABLE=1

# VIX-Based Position Scaling
RT_VIX_SCALING_ENABLE=1
RT_VIX_THRESHOLD_ELEVATED=20.0
RT_VIX_THRESHOLD_HIGH=30.0
RT_VIX_SCALE_ELEVATED=0.5
RT_VIX_SCALE_HIGH=0.25

# Correlation Check
RT_CORRELATION_CHECK_ENABLE=1
RT_CORRELATION_THRESHOLD=0.75
RT_CORRELATION_LOOKBACK=60
RT_CORRELATION_TOP_N=3
